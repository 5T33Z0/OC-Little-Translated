# Adding and configuring `.contentFlavour` and `.contentVisibility`

- [About](#about)
- [How to add `.contentFlavour` and `.contentVisibility`](#how-to-add-contentflavour-and-contentvisibility)
- [About `.contentFlavour`](#about-contentflavour)
  - [Configuration](#configuration)
- [About `.contentVisibility`](#about-contentvisibility)
  - [Usage](#usage)
  - [Options](#options)
  - [Placement](#placement)
  - [InstanceIdentifier](#instanceidentifier)
- [Resources](#resources)

---

## About

OpenCore **0.8.8** introduced two new hidden files: **`.contentFlavour`** and **`.contentVisibility`**, which allow fine-grained control over how entries are displayed and handled in the BootPicker.

**In current OpenCore releases (1.0.x), both files are included by default in the OpenCore package** and can be found in:

* `X64/EFI/BOOT`
* `X64/EFI/OC`

If you are installing or updating OpenCore using the official package, these files no longer need to be created manually.

They may still be missing if:

* You upgraded from an older OpenCore version without replacing the BOOT/OC folders
* Your EFI was generated by older third-party tools
* The files were manually removed

## How to add `.contentFlavour` and `.contentVisibility` 

* Mount your EFI
* Download the OpenCore package
* Extract it
* Navigate to
  `OpenCore-1.0.X-RELEASE/X64/EFI/BOOT` **or** `OpenCore-1.0.X-RELEASE/X64/EFI/OC`
* Press <kbd>CMD</kbd> + <kbd>.</kbd> to show hidden files
* **If the files already exist, copy or move them to the desired target location**
* If they are missing, copy them from the OpenCore package
* Press <kbd>CMD</kbd> + <kbd>.</kbd> again to hide hidden files

> In modern OpenCore versions, these files are normally present by default and only need to be **relocated or edited**, not created.

## About `.contentFlavour`

**`.contentFlavour`** modifies the **appearance and audio flavor** of entries in OpenCore’s BootPicker.

To enable flavour handling, the following flag must be set in `PickerAttributes`:

* `OC_ATTR_USE_FLAVOUR_ICON`

You can use OpenCore calculators to generate the correct bitmask value.

### Configuration

The `.contentFlavour` file contains a flavour identifier that maps the entry to a specific icon and audio description.

OpenCore processes this file **only if no explicit flavour is enforced via `config.plist`**, or if the picker is set to automatic flavour resolution.

The complete and authoritative guide is provided by Acidanthera:

[https://github.com/acidanthera/OpenCorePkg/blob/master/Docs/Flavours.md](https://github.com/acidanthera/OpenCorePkg/blob/master/Docs/Flavours.md)

---

## About `.contentVisibility`

**`.contentVisibility`** controls whether a boot entry is visible in OpenCore’s BootPicker.
It replaces many legacy use cases that previously required complex `ScanPolicy` calculations and `CustomEntries`.

### Usage

Place a **`.contentVisibility`** file in the directory containing the bootloader you want to control.

The file usually contains **one word (ASCII)**:

```
Disabled
```

![visibility](https://github.com/5T33Z0/OC-Little-Translated/assets/76865553/101f23b6-06b2-4938-b741-468e27ffe6ac)

### Options

* `Disabled` → Hides the entry from the BootPicker
* `Enabled` → Shows the entry normally
* `Auxiliary` → Treats the entry as auxiliary (shown only after pressing <kbd>Space</kbd>)

A common use case for `Auxiliary` is permanently attached USB devices that should not appear by default.

> [!IMPORTANT]
>
>The file must not contain extra spaces or line breaks.

### Placement

Supported and recommended locations:

* `/System/Volumes/Preboot/{GUID}/System/Library/CoreServices/.contentVisibility`
* `/System/Volumes/Preboot/.contentVisibility`
* `/EFI/BOOT/.contentVisibility` on **USB boot media**

Supported but **not recommended**:

* `/Volumes/{ESP}/.contentVisibility`
  (This affects *all* entries on the ESP and can unintentionally hide everything.)

**Examples**

* Hide the OpenCore EFI itself
  → place in `EFI/OC/BOOT`
* Hide Windows
  → place in the EFI that contains `Microsoft/Boot`
* Hide Linux or other OS loaders
  → same principle, next to their bootloader

### InstanceIdentifier

OpenCore **0.9.4+** introduced support for **InstanceIdentifier** matching.

This allows `.contentVisibility` rules to apply **only to specific OpenCore instances**.
This is useful when multiple OpenCore installations exist on the same machine.

The file can include instance-specific rules, for example:

```
OCA:Disabled
```

or multiple rules:

```
OCA:Disabled
OCB:Auxiliary
```

If no instance prefix is used, the rule applies globally.

For details, refer to the OpenCore documentation, chapter **8.1.1 – Boot Algorithm**.

## Resources

* OpenCorePkg Pull Request #446 – Add Optional `.contentVisibility` Qualification
  [https://github.com/acidanthera/OpenCorePkg/pull/446](https://github.com/acidanthera/OpenCorePkg/pull/446)
* OpenCore Documentation – Boot Algorithm (8.1.1)

